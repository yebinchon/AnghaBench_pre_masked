
typedef unsigned long size_t;
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;

typedef int bool;




typedef struct TYPE_4__ TYPE_2__ ;
typedef struct TYPE_3__ TYPE_1__ ;


struct stat {int st_mode; } ;
struct sigaction {int sa_handler; } ;
typedef int mmask_t ;
struct TYPE_4__ {int blkorder; int showdetail; int filtermode; int cliopener; int filtercmd; int showhidden; int nonavopen; int picker; int pickraw; int useeditor; int trash; int autoselect; int filter_re; int mtime; } ;
struct TYPE_3__ {char color; } ;


 int VAR_0 ;
 int VAR_1 ;
 int FUNC_0 (char*) ;
 int FUNC_1 (scalar_t__) ;
 size_t VAR_2 ;
 int VAR_3 ;
 int VAR_4 ;
 int VAR_5 ;
 int VAR_6 ;
 size_t VAR_7 ;
 size_t VAR_8 ;
 size_t VAR_9 ;
 size_t VAR_10 ;
 size_t VAR_11 ;
 size_t VAR_12 ;
 size_t VAR_13 ;
 size_t VAR_14 ;
 size_t VAR_15 ;
 int VAR_16 ;
 int VAR_17 ;
 size_t VAR_18 ;
 int VAR_19 ;
 int VAR_20 ;
 size_t VAR_21 ;
 int VAR_22 ;
 int VAR_23 ;
 int VAR_24 ;
 int VAR_25 ;
 int VAR_26 ;
 size_t VAR_27 ;
 int VAR_28 ;
 scalar_t__ FUNC_2 (int ) ;
 int VAR_29 ;
 char* VAR_30 ;
 size_t VAR_31 ;
 int VAR_32 ;
 int VAR_33 ;
 int FUNC_3 (int ) ;
 int VAR_34 ;
 int VAR_35 ;
 int VAR_36 ;
 int FUNC_4 (char*,char*) ;
 TYPE_2__ VAR_37 ;
 int VAR_38 ;
 int FUNC_5 () ;
 int VAR_39 ;
 int FUNC_6 (scalar_t__) ;
 int * VAR_40 ;
 char* VAR_41 ;
 char* VAR_42 ;
 char* VAR_43 ;
 int FUNC_7 () ;
 char** VAR_44 ;
 char** VAR_45 ;
 scalar_t__ VAR_46 ;
 int FUNC_8 (int) ;
 int FUNC_9 () ;
 int FUNC_10 (int ) ;
 int * VAR_47 ;
 int FUNC_11 (int ,char*,...) ;
 int FUNC_12 (int ) ;
 int VAR_48 ;
 TYPE_1__* VAR_49 ;
 void* VAR_50 ;
 char* FUNC_13 (int ,int *,char,int ,int) ;
 char* FUNC_14 (int *,int ) ;
 char* FUNC_15 (char*) ;
 int FUNC_16 (int,char**,char*) ;
 char* VAR_51 ;
 scalar_t__ VAR_52 ;
 int FUNC_17 (int *) ;
 char* VAR_53 ;
 scalar_t__ VAR_54 ;
 scalar_t__ FUNC_18 (int ) ;
 int FUNC_19 (scalar_t__,scalar_t__) ;
 scalar_t__ VAR_55 ;
 scalar_t__ FUNC_20 (int ) ;
 scalar_t__ VAR_56 ;
 scalar_t__ FUNC_21 () ;
 char** VAR_57 ;
 int FUNC_22 (int ,char*,int ) ;
 int FUNC_23 (int ,int *) ;
 char* VAR_58 ;
 int VAR_59 ;
 int FUNC_24 (char*,int,int) ;
 char* VAR_60 ;
 char* VAR_61 ;
 int VAR_62 ;
 char* VAR_63 ;
 int FUNC_25 (int ,int *,char*,int ) ;
 int VAR_64 ;
 int VAR_65 ;
 int VAR_66 ;
 int * VAR_67 ;
 int VAR_68 ;
 int FUNC_26 (int ) ;
 void* FUNC_27 (char*,int *) ;
 int FUNC_28 (char,int ) ;
 scalar_t__ VAR_69 ;
 int VAR_70 ;
 int VAR_71 ;
 int FUNC_29 (char*,char*) ;
 scalar_t__ VAR_72 ;
 int FUNC_30 (int,int *) ;
 int FUNC_31 () ;
 int FUNC_32 (char*,int ,int) ;
 int FUNC_33 (int ,char*) ;
 int FUNC_34 () ;
 char* VAR_73 ;
 scalar_t__ FUNC_35 (int ,struct sigaction*,int *) ;
 int VAR_74 ;
 int FUNC_36 (int ,int ) ;
 int FUNC_37 (char*,char*,int *,int *,int ) ;
 int FUNC_38 (char*,struct stat*) ;
 int VAR_75 ;
 int VAR_76 ;
 int FUNC_39 (char*) ;
 int FUNC_40 (char*,char*,int) ;
 int VAR_77 ;
 int FUNC_41 (void*) ;
 int FUNC_42 () ;
 char** VAR_78 ;
 int VAR_79 ;
 int FUNC_43 (int ) ;
 scalar_t__ FUNC_44 (char*) ;
 int FUNC_45 (char*) ;
 int FUNC_46 () ;
 char* FUNC_47 (char*,char*) ;
 scalar_t__ FUNC_48 (char*) ;
 int FUNC_49 (scalar_t__) ;
 int VAR_80 ;

int FUNC_50(int VAR_81, char *VAR_82[])
{
 mmask_t VAR_83;
 char *VAR_84 = ((void*)0);
 char *VAR_85 = ((void*)0);
 int VAR_86;

 bool VAR_87 = VAR_3;


 while ((VAR_86 = FUNC_16(VAR_81, VAR_82, "HSKiab:cde:fnop:rstvh")) != -1) {
  switch (VAR_86) {
  case 'S':
   VAR_37.blkorder = 1;
   VAR_59 = VAR_77;
   VAR_34 = FUNC_10(VAR_28) - 1;
  case 'd':
   VAR_37.showdetail = 1;
   VAR_67 = &VAR_66;
   break;
  case 'i':
   VAR_37.filtermode = 1;
   break;
  case 'a':
   VAR_37.mtime = 0;
   break;
  case 'b':
   VAR_84 = VAR_61;
   break;
  case 'c':
   VAR_37.cliopener = 1;
   break;
  case 'e':
   VAR_85 = VAR_61;
   break;
  case 'f':
   VAR_37.filtercmd = 1;
   break;
  case 'H':
   VAR_37.showhidden = 1;
   break;
  case 'n':
   VAR_40 = &VAR_80;
   break;
  case 'o':
   VAR_37.nonavopen = 1;
   break;
  case 'p':
   VAR_37.picker = 1;
   if (VAR_61[0] == '-' && VAR_61[1] == '\0')
    VAR_37.pickraw = 1;
   else {
    int VAR_88 = FUNC_24(VAR_61, VAR_17 | VAR_16, 0600);

    if (VAR_88 == -1) {
     FUNC_46();
     return VAR_32;
    }

    FUNC_6(VAR_88);
    VAR_50 = FUNC_27(VAR_61, ((void*)0));
    FUNC_41(VAR_50);
   }
   break;
  case 'r':

   VAR_87 = VAR_29;

   break;
  case 's':
   VAR_37.filter_re = 0;
   VAR_47 = &VAR_79;
   break;
  case 't':
   VAR_37.autoselect = 0;
   break;
  case 'K':
   FUNC_5();
   return VAR_33;
  case 'v':
   FUNC_11(VAR_76, "%s\n", VAR_30);
   return VAR_33;
  case 'h':
   FUNC_42();
   return VAR_33;
  default:
   FUNC_42();
   return VAR_32;
  }
 }


 if (!VAR_37.picker && !(FUNC_20(VAR_25) && FUNC_20(VAR_26)))
  FUNC_8(1);


 VAR_41 = FUNC_47(VAR_44[VAR_9], "4444");
 VAR_86 = 0;
 while (VAR_86 < VAR_1) {
  if (*VAR_41) {
   if (*VAR_41 < '0' || *VAR_41 > '7') {
    FUNC_11(VAR_75, "0 <= code <= 7\n");
    return VAR_32;
   }

   VAR_49[VAR_86].color = *VAR_41 - '0';
   ++VAR_41;
  } else
   VAR_49[VAR_86].color = 4;

  ++VAR_86;
 }






 FUNC_3(VAR_39);

 VAR_51 = FUNC_15("HOME");
 if (!VAR_51) {
  FUNC_11(VAR_75, "set HOME\n");
  return VAR_32;
 }
 FUNC_0(VAR_51);

 if (!FUNC_34())
  return VAR_32;


 VAR_60 = FUNC_47(VAR_44[VAR_12], VAR_78[VAR_15]);
 FUNC_0(VAR_60);


 if (!FUNC_25(VAR_36, &VAR_35, VAR_44[VAR_8], VAR_0)) {
  FUNC_11(VAR_75, "%s\n", VAR_44[VAR_8]);
  return VAR_32;
 }


 if (!FUNC_25(VAR_64, &VAR_65, "NNN_PLUG", VAR_20)) {
  FUNC_11(VAR_75, "%s\n", "NNN_PLUG");
  return VAR_32;
 }

 if (VAR_84) {
  if (!VAR_84[1])
   VAR_53 = FUNC_13(VAR_36, ((void*)0), *VAR_84, VAR_0, VAR_29);

  if (!VAR_53) {
   FUNC_11(VAR_75, "%s\n", VAR_57[VAR_27]);
   return VAR_32;
  }
 } else if (VAR_81 == VAR_62) {

  VAR_53 = FUNC_14(((void*)0), VAR_19);
  if (!VAR_53)
   VAR_53 = "/";
 } else {
  VAR_84 = VAR_82[VAR_62];
  if (FUNC_39(VAR_84) > 7 && !FUNC_40(VAR_84, "file://", 7))
   VAR_84 = VAR_84 + 7;
  VAR_53 = FUNC_27(VAR_84, ((void*)0));
  FUNC_0(VAR_53);
  if (!VAR_53) {
   FUNC_46();
   return VAR_32;
  }






  struct stat VAR_89;

  if (FUNC_38(VAR_53, &VAR_89) == -1) {
   FUNC_46();
   return VAR_32;
  }

  if (FUNC_2(VAR_89.st_mode)) {
   FUNC_37(VAR_60, VAR_84, ((void*)0), ((void*)0), VAR_4);
   return VAR_33;
  }
 }


 if (!VAR_37.cliopener && FUNC_48(VAR_44[VAR_14]))
  VAR_37.useeditor = 1;


 VAR_43 = FUNC_47(VAR_45[VAR_31], FUNC_47(VAR_45[VAR_2], "vi"));
 FUNC_0(FUNC_15(VAR_45[VAR_31]));
 FUNC_0(FUNC_15(VAR_45[VAR_2]));
 FUNC_0(VAR_43);


 VAR_63 = FUNC_47(VAR_45[VAR_18], "less");
 FUNC_0(VAR_63);


 VAR_73 = FUNC_47(VAR_45[VAR_21], "sh");
 FUNC_0(VAR_73);

 FUNC_0(FUNC_15("PWD"));
 VAR_52 = FUNC_44(FUNC_15(VAR_44[VAR_7]));
 FUNC_32(VAR_44[VAR_7], FUNC_49(++VAR_52), 1);


 VAR_52 = FUNC_44(FUNC_15(VAR_44[VAR_11]));
 FUNC_1(VAR_52);

 if (FUNC_48(VAR_44[VAR_13]))
  VAR_37.trash = 1;


 if (!FUNC_31())
  return VAR_32;


 VAR_41 = FUNC_15(VAR_44[VAR_10]);


 if (!VAR_87) {
  VAR_42[5] = VAR_42[4];
  VAR_42[2] = VAR_42[4] = ' ';

  VAR_58[5] = VAR_58[4];
  VAR_58[2] = VAR_58[4] = ' ';
 }



 struct sigaction VAR_90 = {.sa_handler = VAR_74};

 if (FUNC_35(VAR_22, &VAR_90, ((void*)0)) < 0) {
  FUNC_46();
  return VAR_32;
 }
 FUNC_36(VAR_23, VAR_24);


 if (!FUNC_45(VAR_53)) {
  FUNC_46();
  return VAR_32;
 }



 FUNC_33(VAR_6, "");
 FUNC_29("completion-ignore-case", "on");

 FUNC_28('\t', VAR_71);



 FUNC_22(VAR_38, ".history", VAR_48);
 FUNC_26(VAR_48);


 if (!FUNC_17(&VAR_83))
  return VAR_32;

 FUNC_4(VAR_53, VAR_85);
 FUNC_23(VAR_83, ((void*)0));
 FUNC_9();


 FUNC_22(VAR_38, ".history", VAR_48);
 FUNC_43(VAR_48);


 if (VAR_37.pickraw) {
  if (VAR_72) {
   VAR_86 = FUNC_30(1, ((void*)0));
   if (VAR_86 != (int)(VAR_72))
    FUNC_46();
  }
 } else if (!VAR_37.picker && VAR_50)
  FUNC_41(VAR_50);


 FUNC_12(VAR_68);
 return VAR_33;
}
