
typedef unsigned long size_t;
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;

typedef int bool;






struct shmid_ds {int shm_nattch; } ;
struct shm_info {int dummy; } ;


 int VAR_0 ;
 int VAR_1 ;
 int VAR_2 ;
 int VAR_3 ;
 int FUNC_0 (char*) ;
 int FUNC_1 (char*,int,...) ;
 int FUNC_2 (int,int ,struct shmid_ds*) ;

void FUNC_3()
{
    struct shmid_ds VAR_4;
    struct shm_info VAR_5;
    int VAR_6;
    int VAR_7;
    int VAR_8;
    int VAR_9;
    VAR_7 = FUNC_2 (0, VAR_2, (struct shmid_ds *) &VAR_5);
    FUNC_1("maxid %d\n", VAR_7);
    for (VAR_6 = 0; VAR_6 <= VAR_7; VAR_6++)
    {
 if((VAR_9 = FUNC_2 (VAR_6, VAR_3, &VAR_4)) < 0)
     continue;

 if (FUNC_2 (VAR_9, VAR_0, ((void*)0)))
 {
     FUNC_0("shmctl");
 }
 FUNC_1("id %d has %d attachments\n", VAR_9, VAR_4.shm_nattch);
 VAR_4.shm_nattch = 0;
 FUNC_2(VAR_9, VAR_1, &VAR_4);
 if(FUNC_2(VAR_9, VAR_3, &VAR_4) < 0)
 {
     FUNC_1("id %d deleted sucessfully\n", VAR_9);
 }
 else if(VAR_4.shm_nattch == 0)
 {
     FUNC_1("Still able to stat id %d, but has no attachments\n", VAR_9);
 }
 else
 {
     FUNC_1("Error, failed to remove id %d!\n", VAR_9);
 }

    }
}
