
typedef unsigned long size_t;
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;

typedef int bool;






typedef int FILE ;


 unsigned char VAR_0 ;
 int FUNC_0 () ;
 int FUNC_1 (int *) ;
 int * FUNC_2 (char*,char*) ;
 unsigned char FUNC_3 (int *) ;
 int FUNC_4 (char*,...) ;
 int FUNC_5 (unsigned char,int *) ;
 int * VAR_1 ;

int FUNC_6(int VAR_2, char *VAR_3[])
{
   unsigned char VAR_4;
   FILE* VAR_5;
   FILE* VAR_6;
   unsigned char VAR_7;
   unsigned char VAR_8;
   unsigned char VAR_9;
   unsigned char VAR_10;

   unsigned char VAR_11[] = "\b\t\n\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSPUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\b\t\n\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSPUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~";

   FUNC_4("\nDecoder for PassWD v1.2 `pass.dat' password files\n");
   FUNC_4("Written 2000 by Daniel Roethlisberger <admin@roe.ch>\n\n");

   if((VAR_2 > 3) || (VAR_2 < 2))
   {
      FUNC_4("Usage: %s <infile> [<outfile>]\n\n", VAR_3[0]);
      FUNC_4("If <outfile> is omitted, the output is dumped to stdout.\n", VAR_3[0]);
      return;
   }

   VAR_6 = FUNC_2(VAR_3[1], "r");
   if(VAR_6 == ((void*)0))
   {
      FUNC_4("Could not open file %s\n", VAR_3[1]);
      return;
   }

   if(VAR_2 == 2)
      VAR_5 = VAR_1;
   else
   {
      VAR_5 = FUNC_2(VAR_3[2], "w");
      if(VAR_5 == ((void*)0))
      {
         FUNC_4("Could not write to file %s\n", VAR_3[2]);
         FUNC_0();
         return;
      }
   }

   FUNC_3(VAR_6);
   VAR_7 = FUNC_3(VAR_6);
   VAR_8 = FUNC_3(VAR_6);

   if(VAR_8 == VAR_0)
   {
      FUNC_4("ERROR - encountered EOF within header\n");
      return;
   }


   VAR_9 = (unsigned char)((VAR_7 - 'b') * 10 + (VAR_8 - 'b'));


   VAR_10 = FUNC_3(VAR_6);
   while(!FUNC_1(VAR_6))
   {
      for(VAR_4 = 0; VAR_10 != VAR_11[VAR_4]; VAR_4++)
      {
         if(VAR_4 > 99)
         {
            FUNC_4("\nERROR - encountered illegal character in source file\n");
            FUNC_0();
            return;
         }
      }

      FUNC_5(VAR_11[VAR_4 + 99 - VAR_9], VAR_5);
      VAR_10 = FUNC_3(VAR_6);
   }

   if(VAR_2 == 2)
      FUNC_4("\n\n");
   FUNC_4("Done.\n");

   FUNC_0();
   return;
}
