
typedef unsigned long size_t;
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;

typedef int bool;




typedef struct TYPE_3__ TYPE_1__ ;


struct TYPE_3__ {int type; int port; int buf; int pio; int display; int ipad; } ;
typedef TYPE_1__ rose_params ;
typedef scalar_t__ netwib_err ;
typedef int netwib_buf ;


 int VAR_0 ;
 scalar_t__ VAR_1 ;
 int VAR_2 ;
 int VAR_3 ;
 int VAR_4 ;
 int VAR_5 ;
 int VAR_6 ;
 int VAR_7 ;
 int VAR_8 ;


 void* FUNC_0 (char*) ;
 int FUNC_1 (int *) ;
 int FUNC_2 (char*,int *) ;
 int FUNC_3 (int *) ;
 int FUNC_4 () ;
 int FUNC_5 (int ) ;
 int FUNC_6 (scalar_t__,int ) ;
 int FUNC_7 () ;
 int FUNC_8 (int *) ;
 int FUNC_9 (int ,int *) ;
 scalar_t__ FUNC_10 (int *,int ,int *) ;
 int FUNC_11 (char*,...) ;
 scalar_t__ FUNC_12 (TYPE_1__*,int,int,int,int,int) ;

int FUNC_13(int VAR_9, char* VAR_10[])
{
  rose_params VAR_11;
  netwib_buf VAR_12;
  netwib_err VAR_13;
  int VAR_14, VAR_15, VAR_16, VAR_17, VAR_18;


  FUNC_7();


  if (VAR_9 < 3 || VAR_9 > 9) {
    FUNC_11("Usage  : %s type(1or2) ipaddress [port] [NumP] [Numt] [NumR] [NumF] [NumD]\n", VAR_10[0]);
    FUNC_11("Example: %s 1 1.2.3.4 80 5 9999 99999999 1021 8\n", VAR_10[0]);
    FUNC_11(" type      : %d=tcp, %d=udp\n", 129, 128);
    FUNC_11(" ipaddress : address to test\n");
    FUNC_11(" port      : optional port number (0 means random)\n");
    FUNC_11(" NumP      : Number of packets to fragment\n");
    FUNC_11(" NumT      : Number of times last fragment is rewritten\n");
    FUNC_11(" NumR      : Number of times to run test\n");
    FUNC_11(" NumF      : Number of fragments per packet\n");
    FUNC_11(" NumD      : Delta between fragements.\n");
   return(1);
  }


  VAR_11.type = FUNC_0(VAR_10[1]);
  switch(VAR_11.type) {
  case 129 :
  case 128 :
    break;
  default :
    FUNC_11("First parameter must be 1 or 2 (currently=%s)\n", VAR_10[1]);
    return(2);
  }


  FUNC_5(FUNC_2(VAR_10[2], &VAR_12));
  VAR_13 = FUNC_10(&VAR_12, VAR_3, &VAR_11.ipad);
  if (VAR_13 != VAR_1) {
    FUNC_11("Second parameter must be an IP or hostname (currently=%s)\n",
           VAR_10[2]);
    return(3);
  }


  VAR_11.port = 0;
  if (VAR_9 > 3) {
    VAR_11.port = FUNC_0(VAR_10[3]);
  }


  VAR_14 = 5;
  if (VAR_9 > 4) {
    VAR_14 = FUNC_0(VAR_10[4]);
    }
  if (VAR_14 < 1) { VAR_14 = 1; }
  if (VAR_14 > 1000) { VAR_14 = 1000; }


  VAR_15 = VAR_7;
  if (VAR_9 > 5) {
    VAR_15 = FUNC_0(VAR_10[5]);
    }


  VAR_16 = VAR_8;
  if (VAR_9 > 6) {
    VAR_16 = FUNC_0(VAR_10[6]);
    }


  VAR_17 = VAR_6;
  if (VAR_9 > 7) {
    VAR_17 = FUNC_0(VAR_10[7]);
    }
  if (VAR_17 < 1) { VAR_17 = 1; }


    VAR_18 = VAR_5;
    if (VAR_9 > 8) {
      VAR_18 = FUNC_0(VAR_10[8]);
      }



    VAR_17 = (VAR_17 * VAR_18) + 8;
    if (VAR_17 > 8170) { VAR_17 = 8170; }

  FUNC_11("%s %d %s %d %d %d %d %d ndelta = %d\n\r",
          VAR_10[0], VAR_11.type, VAR_10[2], VAR_11.port, VAR_14, VAR_15, VAR_16,
   VAR_17 / 8, VAR_18);


  VAR_11.display = VAR_2;


  FUNC_5(FUNC_3(&VAR_11.buf));


  FUNC_5(FUNC_9(VAR_4,
                                    &VAR_11.pio));


  VAR_13 = FUNC_12(&VAR_11, VAR_14, VAR_15, VAR_16, VAR_17, VAR_18);
  if (VAR_13 != VAR_1) {
    FUNC_5(FUNC_6(VAR_13, VAR_0));
    return(VAR_13);
  }


  FUNC_5(FUNC_8(&VAR_11.pio));
  FUNC_5(FUNC_1(&VAR_11.buf));
  FUNC_4();

  return(0);
}
