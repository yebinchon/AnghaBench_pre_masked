
typedef unsigned long size_t;
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;

typedef int bool;




typedef struct TYPE_2__ TYPE_1__ ;


struct pud_entry {int addr; struct pmd_entry** entries; } ;
struct pgd_entry {int addr; struct pud_entry** entries; } ;
struct ptsc {unsigned long physmap; struct pgd_entry entry; } ;
struct pte_entry {int addr; unsigned long* entries; } ;
struct pmd_entry {int addr; TYPE_1__* entries; } ;
struct TYPE_2__ {unsigned long phys; int huge; struct pte_entry* pte; } ;


 unsigned long VAR_0 ;
 unsigned long VAR_1 ;
 unsigned long VAR_2 ;
 int VAR_3 ;
 int FUNC_0 (char*,...) ;
 int FUNC_1 (unsigned long) ;
 scalar_t__ FUNC_2 (unsigned long) ;
 int FUNC_3 (unsigned long) ;
 int FUNC_4 (unsigned long) ;
 int FUNC_5 (unsigned long) ;
 scalar_t__ FUNC_6 (unsigned long) ;
 int FUNC_7 (unsigned long) ;
 int FUNC_8 (unsigned long) ;
 scalar_t__ FUNC_9 (unsigned long) ;
 int FUNC_10 (unsigned long) ;
 struct pmd_entry* FUNC_11 (unsigned long) ;
 struct pte_entry* FUNC_12 (unsigned long) ;
 struct pud_entry* FUNC_13 (unsigned long) ;
 int FUNC_14 (unsigned long) ;
 scalar_t__ FUNC_15 (unsigned long) ;
 int FUNC_16 (unsigned long) ;
 unsigned long FUNC_17 (int) ;

__attribute__((used)) static unsigned long FUNC_18(struct ptsc* VAR_4,
      unsigned long VAR_5) {
 struct pgd_entry *VAR_6;
 struct pud_entry *VAR_7;
 struct pmd_entry *VAR_8;
 struct pte_entry *VAR_9;
 unsigned long VAR_10;
 int VAR_11;

 FUNC_0("looking up phys addr for %016lx:\n", VAR_5);

 VAR_6 = &VAR_4->entry;

 VAR_11 = FUNC_1(VAR_5);
 FUNC_0(" pgd: %016lx, index: %d\n", VAR_6->addr, VAR_11);
 if (!VAR_6->entries[VAR_11]) {
  unsigned long VAR_12 = FUNC_17(
   VAR_6->addr + VAR_11 * sizeof(unsigned long));
  FUNC_0("   -> %016lx\n", VAR_12);
  if (FUNC_2(VAR_12)) {
   FUNC_0(" not found, pgd is none\n");
   return 0;
  }
  if (!FUNC_3(VAR_12)) {
   FUNC_0(" not found, pgd is not present\n");
   return 0;
  }
  unsigned long VAR_13 =
   VAR_4->physmap + (VAR_12 & VAR_2);
  VAR_7 = FUNC_13(VAR_13);
  VAR_6->entries[VAR_11] = VAR_7;
 }
 VAR_7 = VAR_6->entries[VAR_11];

 VAR_11 = FUNC_14(VAR_5);
 FUNC_0(" pud: %016lx, index: %d\n", VAR_7->addr, VAR_11);
 if (!VAR_7->entries[VAR_11]) {
  unsigned long VAR_14 = FUNC_17(
   VAR_7->addr + VAR_11 * sizeof(unsigned long));
  FUNC_0("   -> %016lx\n", VAR_14);
  if (FUNC_15(VAR_14)) {
   FUNC_0(" not found, pud is none\n");
   return 0;
  }
  if (!FUNC_16(VAR_14)) {
   FUNC_0(" not found, pud is not present\n");
   return 0;
  }
  unsigned long VAR_15 =
   VAR_4->physmap + (VAR_14 & VAR_2);
  VAR_8 = FUNC_11(VAR_15);
  VAR_7->entries[VAR_11] = VAR_8;
 }
 VAR_8 = VAR_7->entries[VAR_11];

 VAR_11 = FUNC_5(VAR_5);
 FUNC_0(" pmd: %016lx, index: %d\n", VAR_8->addr, VAR_11);
 if (!VAR_8->entries[VAR_11].pte) {
  unsigned long VAR_16 = FUNC_17(
   VAR_8->addr + VAR_11 * sizeof(unsigned long));
  FUNC_0("   -> %016lx\n", VAR_16);
  if (FUNC_6(VAR_16)) {
   FUNC_0(" not found, pmd is none\n");
   return 0;
  }
  if (!FUNC_7(VAR_16)) {
   FUNC_0(" not found, pmd is not present\n");
   return 0;
  }
  if (FUNC_4(VAR_16) & VAR_3) {
   VAR_10 = VAR_4->physmap + (VAR_16 & VAR_2) +
     (VAR_5 & ~VAR_0);
   VAR_8->entries[VAR_11].phys = VAR_10;
   VAR_8->entries[VAR_11].huge = 1;
  } else {
   unsigned long VAR_17 =
    VAR_4->physmap + (VAR_16 & VAR_2);
   VAR_9 = FUNC_12(VAR_17);
   VAR_8->entries[VAR_11].pte = VAR_9;
   VAR_8->entries[VAR_11].huge = 0;
  }
 }

 if (VAR_8->entries[VAR_11].huge) {
  FUNC_0(" phy: %016lx (huge)\n", VAR_10);
  return VAR_8->entries[VAR_11].phys;
 }

 VAR_9 = VAR_8->entries[VAR_11].pte;

 VAR_11 = FUNC_8(VAR_5);
 FUNC_0(" pte: %016lx, index: %d\n", VAR_9->addr, VAR_11);
 if (!VAR_9->entries[VAR_11]) {
  unsigned long VAR_18 = FUNC_17(
   VAR_9->addr + VAR_11 * sizeof(unsigned long));
  FUNC_0("   -> %016lx\n", VAR_18);
  if (FUNC_9(VAR_18)) {
   FUNC_0(" not found, pte is none\n");
   return 0;
  }
  if (!FUNC_10(VAR_18)) {
   FUNC_0(" not found, pte is not present\n");
   return 0;
  }
  VAR_10 = VAR_4->physmap + (VAR_18 & VAR_2) +
    (VAR_5 & ~VAR_1);
  VAR_9->entries[VAR_11] = VAR_10;
 }
 VAR_10 = VAR_9->entries[VAR_11];

 return VAR_10;
}
