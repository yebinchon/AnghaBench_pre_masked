
typedef unsigned long size_t;
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;

typedef int bool;




typedef struct TYPE_2__ TYPE_1__ ;


struct TYPE_2__ {int s_addr; } ;
struct sockaddr_in {TYPE_1__ sin_addr; void* sin_port; int sin_family; } ;
struct sockaddr {int dummy; } ;
struct hostent {int h_addr; } ;
typedef int sin ;


 int VAR_0 ;
 int VAR_1 ;
 int FUNC_0 (int ,int*,int) ;
 int FUNC_1 (void*,int) ;
 struct hostent* FUNC_2 (char*) ;
 void* FUNC_3 (int) ;
 int FUNC_4 (char*) ;
 int FUNC_5 (char*,...) ;
 int FUNC_6 (int,char*,int,int ,struct sockaddr*,int) ;
 int FUNC_7 (int ,int ,int ) ;

int FUNC_8(int VAR_2,char * * VAR_3)
{
        char VAR_4[18];
        int VAR_5;
        struct sockaddr_in VAR_6;
        struct hostent * VAR_7;

        FUNC_5("dnsloop.c by Hugo Breton (bretonh@pgci.ca)\n");

        if(VAR_2<2)
        {
                FUNC_5("usage: %s host\n",VAR_3[0]);
                return(0);
        }

        FUNC_1((void *) &VAR_6,sizeof(VAR_6));
        VAR_6.sin_family=VAR_0;
        VAR_6.sin_port=FUNC_3(53);

        if((VAR_6.sin_addr.s_addr=FUNC_4(VAR_3[1]))==-1)
        {
                if((VAR_7=FUNC_2(VAR_3[1]))==((void*)0))
                {
                        FUNC_5("unknown host %s\n",VAR_3[1]);
                        return(0);
                }

                FUNC_0(VAR_7->h_addr,&VAR_6.sin_addr.s_addr,4);
        }

        FUNC_1((void *) VAR_4,18);
        * ((unsigned short *) (VAR_4+0))=FUNC_3(867-5309);
        * ((unsigned short *) (VAR_4+4))=FUNC_3(1);
        * ((unsigned short *) (VAR_4+12))=FUNC_3(32768+16384+12);
        * ((unsigned short *) (VAR_4+14))=FUNC_3(1);
        * ((unsigned short *) (VAR_4+16))=FUNC_3(1);

        if((VAR_5=FUNC_7(VAR_0,VAR_1,0))==-1)
        {
                FUNC_5("unable to create UDP socket\n");
                return(0);
        }

        if(FUNC_6(VAR_5,VAR_4,18,0,(struct sockaddr *) &VAR_6,sizeof(VAR_6))==-1)
        {
                FUNC_5("unable to send packet\n");
                return(0);
        }

        FUNC_5("packet sent to host %s\n",VAR_3[1]);

        return(0);
}
