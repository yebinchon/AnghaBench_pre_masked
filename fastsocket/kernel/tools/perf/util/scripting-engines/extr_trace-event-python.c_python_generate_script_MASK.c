
typedef unsigned long size_t;
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;

typedef int bool;




typedef struct TYPE_2__ TYPE_1__ ;


struct pevent {int dummy; } ;
struct format_field {char* name; int flags; struct format_field* next; } ;
struct TYPE_2__ {struct format_field* fields; } ;
struct event_format {char* system; char* name; TYPE_1__ format; } ;
typedef int FILE ;


 int VAR_0 ;
 int VAR_1 ;
 int VAR_2 ;
 int VAR_3 ;
 int VAR_4 ;
 int FUNC_0 (int *) ;
 int * FUNC_1 (char*,char*) ;
 int FUNC_2 (int *,char*,...) ;
 int FUNC_3 (char*,char*,char const*) ;
 int * VAR_5 ;
 struct event_format* FUNC_4 (struct pevent*,struct event_format*) ;

__attribute__((used)) static int FUNC_5(struct pevent *VAR_6, const char *VAR_7)
{
 struct event_format *VAR_8 = ((void*)0);
 struct format_field *VAR_9;
 char VAR_10[VAR_4];
 int VAR_11, VAR_12;
 FILE *VAR_13;

 FUNC_3(VAR_10, "%s.py", VAR_7);
 VAR_13 = FUNC_1(VAR_10, "w");
 if (VAR_13 == ((void*)0)) {
  FUNC_2(VAR_5, "couldn't open %s\n", VAR_10);
  return -1;
 }
 FUNC_2(VAR_13, "# perf script event handlers, "
  "generated by perf script -g python\n");

 FUNC_2(VAR_13, "# Licensed under the terms of the GNU GPL"
  " License version 2\n\n");

 FUNC_2(VAR_13, "# The common_* event handler fields are the most useful "
  "fields common to\n");

 FUNC_2(VAR_13, "# all events.  They don't necessarily correspond to "
  "the 'common_*' fields\n");

 FUNC_2(VAR_13, "# in the format files.  Those fields not available as "
  "handler params can\n");

 FUNC_2(VAR_13, "# be retrieved using Python functions of the form "
  "common_*(context).\n");

 FUNC_2(VAR_13, "# See the perf-trace-python Documentation for the list "
  "of available functions.\n\n");

 FUNC_2(VAR_13, "import os\n");
 FUNC_2(VAR_13, "import sys\n\n");

 FUNC_2(VAR_13, "sys.path.append(os.environ['PERF_EXEC_PATH'] + \\\n");
 FUNC_2(VAR_13, "\t'/scripts/python/Perf-Trace-Util/lib/Perf/Trace')\n");
 FUNC_2(VAR_13, "\nfrom perf_trace_context import *\n");
 FUNC_2(VAR_13, "from Core import *\n\n\n");

 FUNC_2(VAR_13, "def trace_begin():\n");
 FUNC_2(VAR_13, "\tprint \"in trace_begin\"\n\n");

 FUNC_2(VAR_13, "def trace_end():\n");
 FUNC_2(VAR_13, "\tprint \"in trace_end\"\n\n");

 while ((VAR_8 = FUNC_4(VAR_6, VAR_8))) {
  FUNC_2(VAR_13, "def %s__%s(", VAR_8->system, VAR_8->name);
  FUNC_2(VAR_13, "event_name, ");
  FUNC_2(VAR_13, "context, ");
  FUNC_2(VAR_13, "common_cpu,\n");
  FUNC_2(VAR_13, "\tcommon_secs, ");
  FUNC_2(VAR_13, "common_nsecs, ");
  FUNC_2(VAR_13, "common_pid, ");
  FUNC_2(VAR_13, "common_comm,\n\t");

  VAR_11 = 0;
  VAR_12 = 0;

  for (VAR_9 = VAR_8->format.fields; VAR_9; VAR_9 = VAR_9->next) {
   if (VAR_11++)
    FUNC_2(VAR_13, ", ");
   if (++VAR_12 % 5 == 0)
    FUNC_2(VAR_13, "\n\t");

   FUNC_2(VAR_13, "%s", VAR_9->name);
  }
  FUNC_2(VAR_13, "):\n");

  FUNC_2(VAR_13, "\t\tprint_header(event_name, common_cpu, "
   "common_secs, common_nsecs,\n\t\t\t"
   "common_pid, common_comm)\n\n");

  FUNC_2(VAR_13, "\t\tprint \"");

  VAR_11 = 0;
  VAR_12 = 0;

  for (VAR_9 = VAR_8->format.fields; VAR_9; VAR_9 = VAR_9->next) {
   if (VAR_11++)
    FUNC_2(VAR_13, ", ");
   if (VAR_12 && VAR_12 % 3 == 0) {
    FUNC_2(VAR_13, "\" \\\n\t\t\"");
   }
   VAR_12++;

   FUNC_2(VAR_13, "%s=", VAR_9->name);
   if (VAR_9->flags & VAR_2 ||
       VAR_9->flags & VAR_0 ||
       VAR_9->flags & VAR_3)
    FUNC_2(VAR_13, "%%s");
   else if (VAR_9->flags & VAR_1)
    FUNC_2(VAR_13, "%%d");
   else
    FUNC_2(VAR_13, "%%u");
  }

  FUNC_2(VAR_13, "\\n\" %% \\\n\t\t(");

  VAR_11 = 0;
  VAR_12 = 0;

  for (VAR_9 = VAR_8->format.fields; VAR_9; VAR_9 = VAR_9->next) {
   if (VAR_11++)
    FUNC_2(VAR_13, ", ");

   if (++VAR_12 % 5 == 0)
    FUNC_2(VAR_13, "\n\t\t");

   if (VAR_9->flags & VAR_0) {
    if ((VAR_12 - 1) % 5 != 0) {
     FUNC_2(VAR_13, "\n\t\t");
     VAR_12 = 4;
    }
    FUNC_2(VAR_13, "flag_str(\"");
    FUNC_2(VAR_13, "%s__%s\", ", VAR_8->system,
     VAR_8->name);
    FUNC_2(VAR_13, "\"%s\", %s)", VAR_9->name,
     VAR_9->name);
   } else if (VAR_9->flags & VAR_3) {
    if ((VAR_12 - 1) % 5 != 0) {
     FUNC_2(VAR_13, "\n\t\t");
     VAR_12 = 4;
    }
    FUNC_2(VAR_13, "symbol_str(\"");
    FUNC_2(VAR_13, "%s__%s\", ", VAR_8->system,
     VAR_8->name);
    FUNC_2(VAR_13, "\"%s\", %s)", VAR_9->name,
     VAR_9->name);
   } else
    FUNC_2(VAR_13, "%s", VAR_9->name);
  }

  FUNC_2(VAR_13, "),\n\n");
 }

 FUNC_2(VAR_13, "def trace_unhandled(event_name, context, "
  "event_fields_dict):\n");

 FUNC_2(VAR_13, "\t\tprint ' '.join(['%%s=%%s'%%(k,str(v))"
  "for k,v in sorted(event_fields_dict.items())])\n\n");

 FUNC_2(VAR_13, "def print_header("
  "event_name, cpu, secs, nsecs, pid, comm):\n"
  "\tprint \"%%-20s %%5u %%05u.%%09u %%8u %%-20s \" %% \\\n\t"
  "(event_name, cpu, secs, nsecs, pid, comm),\n");

 FUNC_0(VAR_13);

 FUNC_2(VAR_5, "generated Python script: %s\n", VAR_10);

 return 0;
}
