
typedef unsigned long size_t;
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;

typedef int bool;






struct ap_queue_status {scalar_t__ response_code; } ;
struct ap_device {int device_type; int qid; } ;
typedef int msg ;


 int VAR_0 ;
 int VAR_1 ;
 scalar_t__ VAR_2 ;
 int VAR_3 ;
 int VAR_4 ;
 int VAR_5 ;
 struct ap_queue_status FUNC_0 (int ,unsigned long long*,char*,int) ;
 struct ap_queue_status FUNC_1 (int ,int,unsigned char*,int,int ) ;
 int FUNC_2 (unsigned long) ;
 scalar_t__ FUNC_3 (int ) ;
 int FUNC_4 (int) ;

__attribute__((used)) static int FUNC_5(struct ap_device *VAR_6)
{
 static unsigned char VAR_7[] = {
  0x00,0x06,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x58,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x01,0x00,0x43,0x43,0x41,0x2d,0x41,0x50,
  0x50,0x4c,0x20,0x20,0x20,0x01,0x01,0x01,
  0x00,0x00,0x00,0x00,0x50,0x4b,0x00,0x00,
  0x00,0x00,0x01,0x1c,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x05,0xb8,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x70,0x00,0x41,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x54,0x32,0x01,0x00,0xa0,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0xb8,0x05,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x0a,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x08,0x00,
  0x49,0x43,0x53,0x46,0x20,0x20,0x20,0x20,
  0x50,0x4b,0x0a,0x00,0x50,0x4b,0x43,0x53,
  0x2d,0x31,0x2e,0x32,0x37,0x00,0x11,0x22,
  0x33,0x44,0x55,0x66,0x77,0x88,0x99,0x00,
  0x11,0x22,0x33,0x44,0x55,0x66,0x77,0x88,
  0x99,0x00,0x11,0x22,0x33,0x44,0x55,0x66,
  0x77,0x88,0x99,0x00,0x11,0x22,0x33,0x44,
  0x55,0x66,0x77,0x88,0x99,0x00,0x11,0x22,
  0x33,0x44,0x55,0x66,0x77,0x88,0x99,0x00,
  0x11,0x22,0x33,0x5d,0x00,0x5b,0x00,0x77,
  0x88,0x1e,0x00,0x00,0x57,0x00,0x00,0x00,
  0x00,0x04,0x00,0x00,0x4f,0x00,0x00,0x00,
  0x03,0x02,0x00,0x00,0x40,0x01,0x00,0x01,
  0xce,0x02,0x68,0x2d,0x5f,0xa9,0xde,0x0c,
  0xf6,0xd2,0x7b,0x58,0x4b,0xf9,0x28,0x68,
  0x3d,0xb4,0xf4,0xef,0x78,0xd5,0xbe,0x66,
  0x63,0x42,0xef,0xf8,0xfd,0xa4,0xf8,0xb0,
  0x8e,0x29,0xc2,0xc9,0x2e,0xd8,0x45,0xb8,
  0x53,0x8c,0x6f,0x4e,0x72,0x8f,0x6c,0x04,
  0x9c,0x88,0xfc,0x1e,0xc5,0x83,0x55,0x57,
  0xf7,0xdd,0xfd,0x4f,0x11,0x36,0x95,0x5d,
 };
 struct ap_queue_status VAR_8;
 unsigned long long VAR_9;
 char *VAR_10;
 int VAR_11, VAR_12;

 VAR_10 = (void *) FUNC_3(VAR_5);
 if (!VAR_10) {
  VAR_11 = -VAR_4;
  goto out;
 }

 VAR_8 = FUNC_1(VAR_6->qid, 0x0102030405060708ULL,
      VAR_7, sizeof(VAR_7), 0);
 if (VAR_8.response_code != VAR_2) {
  VAR_11 = -VAR_3;
  goto out_free;
 }


 for (VAR_12 = 0; VAR_12 < 6; VAR_12++) {
  FUNC_4(300);
  VAR_8 = FUNC_0(VAR_6->qid, &VAR_9, VAR_10, 4096);
  if (VAR_8.response_code == VAR_2 &&
      VAR_9 == 0x0102030405060708ULL)
   break;
 }
 if (VAR_12 < 6) {

  if (VAR_10[0] == 0x00 && VAR_10[1] == 0x86)
   VAR_6->device_type = VAR_1;
  else
   VAR_6->device_type = VAR_0;
  VAR_11 = 0;
 } else
  VAR_11 = -VAR_3;

out_free:
 FUNC_2((unsigned long) VAR_10);
out:
 return VAR_11;
}
